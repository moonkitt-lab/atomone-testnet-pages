"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{65589:function(e,t,n){n.d(t,{analyzeTxResponse:function(){return c},signAndBroadcastMessages:function(){return o}});var r=n(44555),a=n(60767);let s=e=>{if(!e)return"Unknown error";let t=e.toString(),n=t.split(/\r?\n/);return n[n.length-1]||t},i=e=>{if(!e)return"Unknown error";let t=e.toString(),n=t.match(/request rejected/i);if(n)return"Transaction rejected by user";let r=t.match(/message index: \d+: (.+?)(?::|$)/);return r&&r[1]?r[1]:t},o=async(e,t,i,o)=>{let c;let{sign:l,broadcast:u}=await n.e(618).then(n.bind(n,43618)),d=r._.getState(),f=d.getCanonicalChainName();if(!f)return"Unknown error. No chain seems to be active. Please check your network connection.";let g="auto";if(i&&i>0){var h;let e=null===(h=d.feeTokens)||void 0===h?void 0:h.find(e=>e.denom===d.getBondDenom());if(e){let t=a.GasPrice.fromString(e.average_gas_price+d.getBondDenom());g=(0,a.calculateFee)(i,t)}}try{let n=await l(f,e,g,"amino",o,void 0,void 0,t);c=await u(f,n)}catch(e){c=s(e)}return c},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Transaction";if("string"==typeof e){let n=i(e);return{result:"signAndBroadcastException",toastOptions:{severity:"error",summary:t+" failed",detail:"Transaction failed: "+n,life:7e3}}}return 0!==e.code?{result:"broadcastError",toastOptions:{severity:"error",summary:t+" failed",detail:"Transaction failed.\nPlease check tx: "+l(e.transactionHash),life:7e3}}:{result:"broadcastSuccess",toastOptions:{severity:"success",summary:t+" successful",detail:"Transaction successful.\nPlease check tx: "+l(e.transactionHash),life:7e3}}},l=e=>{var t;let n=r._.getState();return(null===(t=n.mainExplorer)||void 0===t?void 0:t.tx_page)?'<a href="'+n.mainExplorer.tx_page.replace("${txHash}",e)+'" target="_blank">'+e.substring(0,10)+"..."+e.substring(e.length-10,e.length)+"</a>":e}}}]);