"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{44555:function(e,t,n){n.d(t,{_:function(){return l}});var r=n(81959),o=n(74475),a=n(41243);let i={chain:null,assetsList:null,mainExplorer:null,feeTokens:null,rpcClients:{canonical:null,atomone:null},stakingParams:null},l=(0,r.U)((0,o.tJ)((e,t)=>({...i,chainName:"atomonetestnet",getCanonicalChainName:()=>{var e;return null===(e=t().chain)||void 0===e?void 0:e.chain_name},getBondDenom:()=>{var e;return null===(e=t().stakingParams)||void 0===e?void 0:e.bondDenom},getBondDenomForDisplay:()=>{var e;let n=null===(e=t().stakingParams)||void 0===e?void 0:e.bondDenom;return n&&(n.startsWith("u")||n.startsWith("a"))?n.substring(1):null!=n?n:""},getValAddrPrefix:()=>{var e,n;return null===(n=t().chain)||void 0===n?void 0:null===(e=n.bech32_config)||void 0===e?void 0:e.bech32PrefixValAddr},getAddrPrefix:()=>{var e,n;return null===(n=t().chain)||void 0===n?void 0:null===(e=n.bech32_config)||void 0===e?void 0:e.bech32PrefixAccAddr},getCanonicalRpcClient:()=>t().rpcClients.canonical,getAtomOneRpcClient:()=>t().rpcClients.atomone,initStore:async(t,n)=>{var r;let o=await (0,a.fu)(t),i=await (0,a.Ck)(t),l=await (0,a.om)(o);e({chain:t,assetsList:n,mainExplorer:t.explorers?t.explorers[0]:null,feeTokens:(null===(r=t.fees)||void 0===r?void 0:r.fee_tokens)||null,rpcClients:{canonical:o,atomone:i},stakingParams:l})}}),{name:"atomone-chain-params",partialize:e=>({chain:e.chain,assetsList:e.assetsList,mainExplorer:e.mainExplorer,feeTokens:e.feeTokens,stakingParams:e.stakingParams})}))},27924:function(e,t,n){n.d(t,{O:function(){return i},f:function(){return l}});var r=n(81959);let o={isInitialized:!1,prices:{atomone:{usd:null,last_updated_at:null}}},a=async()=>{try{let e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=atomone&vs_currencies=usd&include_last_updated_at=true");if(!e.ok)throw Error("CoinGecko API error: ".concat(e.status));let t=await e.json();if(t&&t.atomone)return{usd:t.atomone.usd||null,last_updated_at:t.atomone.last_updated_at||null};return{usd:null,last_updated_at:null}}catch(e){return console.error("Error fetching ATONE price:",e),{usd:null,last_updated_at:null}}},i=(0,r.U)((e,t)=>({...o,initStore:async()=>{try{console.log("Initializing price store...");let t=await a();e({prices:{atomone:t},isInitialized:!0}),console.log("Price store initialized successfully",{atomone:t})}catch(e){console.error("Error initializing price store:",e)}},refreshPrices:async()=>{try{let n=await a();t(),null!==n.usd?(e({prices:{atomone:n}}),console.log("Prices refreshed:",{atomone:n})):console.log("Keeping previous price values as new fetch returned null")}catch(e){console.error("Error refreshing prices:",e)}},getAtonePrice:()=>t().prices.atomone.usd,getFormattedAtonePrice:()=>{let e=t().prices.atomone.usd;return null===e?"N/A":"$".concat(e.toFixed(2)," USD")},getLastUpdated:()=>{let e=t().prices.atomone.last_updated_at;if(!e)return"N/A";try{let t=new Date(1e3*e);return t.toLocaleString()}catch(e){return"Invalid date"}},formatUsdValue:e=>"$".concat(e.toFixed(2)),getAtoneUsdValue:e=>{let n=t();if(!n.isInitialized)return"-";try{let t=parseFloat(e.replace(/,/g,""));if(isNaN(t))return"-";let r=n.prices.atomone.usd;if(!r)return"-";return"$".concat((t*r).toFixed(2))}catch(e){return"-"}}}));function l(){let{isInitialized:e,prices:t,refreshPrices:n,getAtonePrice:r,getFormattedAtonePrice:o,getLastUpdated:a,formatUsdValue:l,getAtoneUsdValue:s}=i();return{isInitialized:e,prices:t,getAtonePrice:r,getFormattedAtonePrice:o,getLastUpdated:a,formatUsdValue:l,getAtoneUsdValue:s,refreshPrices:n}}},47376:function(e,t,n){n.d(t,{R:function(){return p},X:function(){return f}});var r=n(81959),o=n(44555),a=n(41243),i=n(97017),l=n(16493),s=n(86006);let c={isInitialized:!1,addresses:{canonical:""},accountName:"",balances:[],delegations:[],delegationsRewards:void 0,unbondingdelegations:[]},u=async e=>{let t=o._.getState().getCanonicalRpcClient();if(!t)return[];let n=await (0,a.hJ)(t.cosmos.staking.v1beta1.delegatorDelegations,"delegationResponses");return await n({delegatorAddr:e})},d=async e=>{let t=o._.getState().getCanonicalRpcClient();if(!t)return[];let n=await (0,a.hJ)(t.cosmos.staking.v1beta1.delegatorUnbondingDelegations,"unbondingResponses");return await n({delegatorAddr:e})},g=async e=>{let t=o._.getState().getCanonicalRpcClient();if(!t)return;let n=await t.cosmos.distribution.v1beta1.delegationTotalRewards({delegatorAddress:e});return n},m=async e=>{let t=o._.getState().getCanonicalRpcClient();if(!t)return[];let n=await (0,a.hJ)(t.cosmos.bank.v1beta1.allBalances,"balances");return await n({address:e,resolveDenom:!1})},f=(0,r.U)((e,t)=>({...c,initStore:async()=>{try{let n=t().addresses.canonical;if(!n)throw Error("No wallet address available");let r=await u(n),o=await g(n),a=await d(n),i=await m(n);e({delegations:r,delegationsRewards:o,unbondingdelegations:a,balances:i,isInitialized:!0})}catch(e){console.error("Error initializing wallet store:",e),t().$reset()}},$reset:()=>{e(JSON.parse(JSON.stringify(c)))},initStoreAddressChange:async(n,r)=>{e({isInitialized:!1,addresses:{canonical:n},accountName:r}),await t().initStore()},getCanonicalAddress:()=>t().addresses.canonical,getCanonicalShortAddress:()=>{let e=t().addresses.canonical;return e?e.substring(0,10)+"..."+e.slice(-7):""},refreshBalances:async()=>{try{let n=t().addresses.canonical;if(!n)throw Error("No wallet address available");let r=await m(n);e({balances:r})}catch(e){console.error("Error refreshing balances:",e)}},getStakingRewards:()=>{let e=t().delegationsRewards,n={};return e&&e.total.forEach(e=>{n[e.denom]=e.amount}),n},getFormattedStakingRewards:()=>{let e=t().getStakingRewards(),r=o._.getState().getBondDenom()||"",{formatTokenAmount:a}=n(22751),i=e[r]||"0";return a(i,r,{maxDecimals:2,trimTrailingZeros:!0})},getTotalDelegated:()=>{let e=t().delegations,n=BigInt(0);return e.forEach(e=>{e.balance&&e.balance.amount&&(n+=BigInt(e.balance.amount))}),n.toString()},getFormattedTotalDelegated:()=>{let e=t().getTotalDelegated(),r=o._.getState().getBondDenom()||"",{formatTokenAmount:a}=n(22751);return a(e,r,{maxDecimals:2,trimTrailingZeros:!0})},getFormattedTotalUnbonding:()=>{let e=t().unbondingdelegations,r=BigInt(0);e.forEach(e=>{e.entries.forEach(e=>{r+=BigInt(e.balance)})});let a=o._.getState().getBondDenom()||"",{formatTokenAmount:i}=n(22751);return i(r.toString(),a,{maxDecimals:2,trimTrailingZeros:!0})},getTokenBalance:e=>{let n=t().balances,r=n.find(t=>t.denom===e);return r?r.amount:"0"},getFormattedTokenBalance:e=>{let r=t().getTokenBalance(e),{formatTokenAmount:o}=n(22751);return o(r,e,{maxDecimals:2,trimTrailingZeros:!0})},getDelegationsByValidator:e=>{let n=t().delegations;return n.find(t=>t.delegation.validatorAddress===e)}}));function p(){let{connect:e,disconnect:t,connected:n,wallet:r}=(0,i.$)(),{address:o,accountName:a}=(0,l.A)("atomonetestnet"),[c,u]=(0,s.useState)(!1),{initStoreAddressChange:d,$reset:g,addresses:m,isInitialized:p}=f(),h=async t=>{try{u(!0),await e(t)}finally{u(!1)}};return(0,s.useEffect)(()=>{n&&o&&a?m.canonical!==o?d(o,a):p||f.getState().initStore():!n&&p&&g()},[n,o,a,m.canonical,p,d,g]),{connect:h,disconnect:t,connected:n,connecting:c,wallet:r,address:o,accountName:a}}},41243:function(e,t,n){n.d(t,{Ck:function(){return o},fu:function(){return r},hJ:function(){return i},om:function(){return a}});let r=async e=>{if(!e.chain_name)return console.error("Cannot get RPC client: chain_name is missing"),null;try{let t=(await Promise.all([n.e(331),n.e(905),n.e(486),n.e(765),n.e(44),n.e(262),n.e(585),n.e(859),n.e(116),n.e(722),n.e(383),n.e(241),n.e(886),n.e(154)]).then(n.t.bind(n,47241,23))).cosmos,r=(await n.e(759).then(n.bind(n,91759))).getEndpoint,o=r(e);if(!o||!o.rpc||!o.rpc.address)return console.error("Cannot get RPC endpoint from chain configuration",e),null;let a=o.rpc.address;console.log("Connecting to RPC endpoint: ".concat(a));let i=await t.ClientFactory.createRPCQueryClient({rpcEndpoint:a});return console.log("RPC client created successfully"),i}catch(e){return console.error("Error creating RPC client:",e),null}},o=async e=>{if(!e.chain_name)return console.error("Cannot get RPC client: chain_name is missing"),null;try{let t=(await Promise.all([n.e(331),n.e(905),n.e(486),n.e(765),n.e(44),n.e(262),n.e(585),n.e(859),n.e(116),n.e(722),n.e(383),n.e(241),n.e(886),n.e(154)]).then(n.t.bind(n,47241,23))).atomone,r=(await n.e(759).then(n.bind(n,91759))).getEndpoint,o=r(e);if(!o||!o.rpc||!o.rpc.address)return console.error("Cannot get RPC endpoint from chain configuration",e),null;let a=o.rpc.address;console.log("Connecting to RPC endpoint: ".concat(a));let i=await t.ClientFactory.createRPCQueryClient({rpcEndpoint:a});return console.log("RPC client created successfully"),i}catch(e){return console.error("Error creating RPC client:",e),null}},a=async e=>{if(!e)return{bondDenom:""};try{let{params:t}=await e.cosmos.staking.v1beta1.params({});return{bondDenom:(null==t?void 0:t.bondDenom)||""}}catch(e){return console.error("Error getting staking params:",e),{bondDenom:""}}},i=(e,t)=>async(n,r)=>{let o=[];try{let a=new Uint8Array;do{n.pagination={key:a,offset:BigInt(0),limit:BigInt(null!=r?r:100),countTotal:!0,reverse:!1};let{[t]:i,pagination:l}=await e(n),s=i||[];o.unshift(...s),a=l.nextKey}while(a.length>0)}catch(e){throw Error(e)}return o}},22751:function(e,t,n){n.r(t),n.d(t,{addCoins:function(){return m},displayCoin:function(){return c},formatBalance:function(){return u},formatCoin:function(){return d},formatCoins:function(){return g},formatNumber:function(){return p},formatTokenAmount:function(){return s},getTokenFromDenom:function(){return i},toDisplayCoin:function(){return l}});var r=n(49806),o=n(74585),a=n(44555);let i=e=>{var t;let n=a._.getState(),r=null===(t=n.assetsList)||void 0===t?void 0:t.assets;if(!r)return e.toUpperCase();let o=r.find(t=>t.base===e);return(null==o?void 0:o.symbol)||e.toUpperCase()},l=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Z.ROUND_FLOOR;return{...e,formattedAmount:p(new r.Z(e.amount),t,n,o),upperDenom:i(e.denom)}},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{includeSymbol:r=!0,maxDecimals:a=6,trimTrailingZeros:l=!0}=n,s=i(t),c=(0,o.mK)(e.toString(),a),u=c;return l&&u.includes(".")&&(u=u.replace(/\.?0+$/,"")),r?"".concat(u," ").concat(s):u},c=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Z.ROUND_HALF_DOWN,a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],i=l(e,t,n,o);return a||i.formattedAmount!=="0."+"0".repeat(n)?i.formattedAmount+" "+i.upperDenom:"-"},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,n)},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?s(e.amount,e.denom,t):"0"},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&0!==e.length?e.map(e=>d(e,t)).join(", "):"0"},m=(e,t)=>{if(e.denom!==t.denom&&(t=(0,o.MU)(t,e.denom)),e.denom===t.denom)return{amount:new r.Z(e.amount).plus(new r.Z(t.amount)).toString(),denom:e.denom}},f=["","K","M","B","t","q","s","S","o","n","d","U","D","T","Qt","Qd","Sd","St"];function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Z.ROUND_FLOOR,i=e.isZero()?e.toNumber():Math.floor(Math.log(e.toNumber())/Math.log(1e3));return t&&f[i]?(0,o.FC)(e,3*i).asBigNumber.toFixed(n,a)+"".concat(f[i]):e.toFixed(n,a)}},74585:function(e,t,n){n.d(t,{FC:function(){return a},MU:function(){return s},mK:function(){return i},toMicroAmount:function(){return l}});var r=n(49806),o=n(44555);let a=(e,t)=>{let n=e.dividedBy(new r.Z(10).exponentiatedBy(t)),o=n.multipliedBy(100).isInteger();return{asBigNumber:n,asNumber:n.toNumber(),asString:n.toString(),asPercentString:o?n.multipliedBy(100)+"%":n.multipliedBy(100).toFixed(1)+"%"}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Z.ROUND_DOWN,o=new r.Z(e||"0");return o.dividedBy(new r.Z(10).exponentiatedBy(6)).toFixed(t,n)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Z.ROUND_DOWN,n=new r.Z(e||"0");return n.multipliedBy(new r.Z(10).exponentiatedBy(6)).integerValue(t).toString()},s=(e,t)=>{let n;let i=o._.getState(),l=i.assetsList;return l?(l.assets.forEach(o=>{var i,l;if(void 0!==n)return;let s=null===(i=o.denom_units)||void 0===i?void 0:i.find(t=>t.denom.toLowerCase()===e.denom.toLowerCase());if(void 0===s)return;let c=null===(l=o.denom_units)||void 0===l?void 0:l.find(e=>e.denom.toLowerCase()===t.toLowerCase());if(void 0===c)return;let u=c.exponent-s.exponent;if(0===u){n=e;return}{let o=new r.Z(e.amount);n={denom:t,amount:a(o,u).asString}}}),n||e):e}}}]);