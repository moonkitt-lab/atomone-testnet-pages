(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974,154,14],{46601:function(){},89214:function(){},85568:function(){},20131:function(){},16026:function(){},71118:function(e,t,i){Promise.resolve().then(i.bind(i,51144))},51144:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return U}});var s=i(9268),a=i(86006),l=i(47376),r=i(91879),n=i(44555),o=i(27924),d=i(3702),c=i(88176),m=i(10716),u=i(19073),h=i(39688),x=i(53429),p=i(24390),v=i(83488),f=i(53612),g=i(28568),j=i(8958),b=i(22751),N=i(60606);let y={ACTIVE:"Active",INACTIVE:"Inactive",UNBONDING:"Unbonding",JAILED:"Jailed"},w=e=>e?"/avatars/"+e+".jpg":"/avatars/unknown.jpg",k=e=>{if(!e)return"Unknown";if(e.jailed)return y.JAILED;switch(e.status){case N.BondStatus.BOND_STATUS_BONDED:return y.ACTIVE;case N.BondStatus.BOND_STATUS_UNBONDING:return y.UNBONDING;case N.BondStatus.BOND_STATUS_UNBONDED:return y.INACTIVE;default:return"Unknown"}},S=e=>{switch(e){case y.ACTIVE:return"success";case y.UNBONDING:return"warning";case y.INACTIVE:case y.JAILED:return"danger";default:return"info"}},A=e=>{var t,i;if(!(null==e?void 0:null===(i=e.commission)||void 0===i?void 0:null===(t=i.commissionRates)||void 0===t?void 0:t.rate))return"0%";let s=100*Number(e.commission.commissionRates.rate);return s.toFixed(2)+"%"},T=e=>{var t;return(null==e?void 0:null===(t=e.description)||void 0===t?void 0:t.moniker)||"Unknown Validator"},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return e?e.length<=t?e:e.substring(0,t-3)+"...":"Unknown Validator"},E=e=>{let t=new Date,i=e.getTime()-t.getTime(),s=Math.ceil(i/864e5);return s<=0?"Completed":"".concat(s," day").concat(1!==s?"s":""," remaining")},V=(e,t)=>e&&0!==e.length?e.map(e=>{let i=e.entries.map(e=>({amount:(0,b.formatTokenAmount)(e.balance,t),completionTime:e.completionTime,displayTime:E(e.completionTime)}));return{validatorAddress:e.validatorAddress,entries:i}}):[];var D=i(74585);function U(){var e,t,N,y,E,U;let[F,I]=(0,a.useState)(""),[_,z]=(0,a.useState)([]),[B,P]=(0,a.useState)([]),[O,M]=(0,a.useState)(null),[L,R]=(0,a.useState)(!0),[X,q]=(0,a.useState)(!1),[G,H]=(0,a.useState)(!1),[J,Y]=(0,a.useState)(!1),K=(0,a.useRef)(null),[Q,W]=(0,a.useState)(!1),[Z,$]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!1),[ei,es]=(0,a.useState)(!1),[ea,el]=(0,a.useState)(0),[er,en]=(0,a.useState)(null),{getAllValidators:eo,getTotalStaked:ed,findByValoper:ec}=(0,r.T)(),{getFormattedTokenBalance:em,getDelegationsByValidator:eu,getFormattedTotalDelegated:eh,getFormattedStakingRewards:ex,getFormattedTotalUnbonding:ep,unbondingdelegations:ev}=(0,l.X)(),{connected:ef,connect:eg,connecting:ej}=(0,l.R)(),eb=(0,n._)().getBondDenom(),{isInitialized:eN,getAtonePrice:ey,getAtoneUsdValue:ew}=(0,o.f)(),ek=(0,a.useCallback)(()=>{if(!_.length)return;let e=[..._];if(F.trim()){let t=F.toLowerCase();e=e.filter(e=>{let i=e.moniker.toLowerCase();return i.includes(t)})}X&&(e=e.filter(e=>{let t=e.myStake;return"-"!==t})),e.sort((e,t)=>{let i="-"!==e.myStake,s="-"!==t.myStake;if(i&&!s)return -1;if(!i&&s)return 1;if(e.status!==t.status){if("Active"===e.status)return -1;if("Active"===t.status)return 1}let a=parseFloat(e.votingPower),l=parseFloat(t.votingPower);return l-a}),P(e)},[_,F,X]);(0,a.useEffect)(()=>{ek()},[ek,_,F,X]),(0,a.useEffect)(()=>{if(!ef&&_.length>0){let e=_.map(e=>({...e,myStake:"-"}));z(e)}},[ef,_]),(0,a.useEffect)(()=>{let e=l.X.subscribe(e=>{if(e.isInitialized&&_.length>0){let e=_.map(e=>{let t=eu(e.validator.operatorAddress),i=t&&Number(t.balance.amount)>0;return{...e,myStake:i?(0,b.formatTokenAmount)(t.balance.amount,eb):"-"}});z(e)}});return()=>e()},[_,eb,eu]),(0,a.useEffect)(()=>{R(!0);let e=r.T.subscribe(e=>{let t=e.validators;if(t.length>0&&eb){console.log("Validator store updated with ".concat(t.length," validators"));let e=ed().total,i=t.map(t=>{var i;let s=eu(t.operatorAddress),a=s&&Number(s.balance.amount)>0;return{validator:t,moniker:(null===(i=t.description)||void 0===i?void 0:i.moniker)||"",votingPower:(Number(t.tokens)/e*100).toFixed(2)+"%",commission:A(t),myStake:a?(0,b.formatTokenAmount)(s.balance.amount,eb):"-",status:k(t)}});z(i),R(!1)}});if(eb){let e=eo();if(e.length>0){let t=ed().total,i=e.map(e=>{var i;let s=eu(e.operatorAddress),a=s&&Number(s.balance.amount)>0;return{validator:e,moniker:(null===(i=e.description)||void 0===i?void 0:i.moniker)||"",votingPower:(Number(e.tokens)/t*100).toFixed(2)+"%",commission:A(e),myStake:a?(0,b.formatTokenAmount)(s.balance.amount,eb):"-",status:k(e)}});z(i),R(!1)}}return()=>e()},[eb,eo,ed,eu]);let eS=e=>{M(e),W(!0)},eA=e=>{M(e),$(!0)},eT=e=>{M(e),et(!0)},eC=async()=>{if(!ea||!O||!eb){K.current.show({severity:"error",summary:"Error",detail:"Missing required information to stake",life:3e3});return}try{H(!0);let e=(0,D.toMicroAmount)(ea.toString()),t=(await Promise.all([i.e(331),i.e(905),i.e(486),i.e(585),i.e(859),i.e(116),i.e(241)]).then(i.t.bind(i,47241,23))).cosmos,{delegate:s}=t.staking.v1beta1.MessageComposer.withTypeUrl,a=s({delegatorAddress:l.X.getState().getCanonicalAddress(),validatorAddress:O.validator.operatorAddress,amount:{denom:eb,amount:e}}),{signAndBroadcastMessages:n,analyzeTxResponse:o}=await Promise.all([i.e(331),i.e(905),i.e(486),i.e(116),i.e(589)]).then(i.bind(i,65589)),d=await n([a]),c=o(d,"Stake");"broadcastSuccess"===c.result?(l.X.getState().initStore(),r.T.getState().initStore(),K.current.show({severity:"success",summary:"Delegation successful",detail:"Your tokens have been staked successfully",life:5e3})):K.current.show({severity:"error",summary:"Staking failed",detail:"string"==typeof d?d:"Transaction failed. Please try again.",life:5e3})}catch(e){console.error("Error while staking:",e),K.current.show({severity:"error",summary:"Error",detail:"An unexpected error occurred while staking",life:5e3})}finally{H(!1),W(!1),el(0)}},eE=async()=>{if(!ea||!O||!eb){K.current.show({severity:"error",summary:"Error",detail:"Missing required information to unstake",life:3e3});return}try{H(!0);let e=(0,D.toMicroAmount)(ea.toString()),t=(await Promise.all([i.e(331),i.e(905),i.e(486),i.e(585),i.e(859),i.e(116),i.e(241)]).then(i.t.bind(i,47241,23))).cosmos,{undelegate:s}=t.staking.v1beta1.MessageComposer.withTypeUrl,a=s({delegatorAddress:l.X.getState().getCanonicalAddress(),validatorAddress:O.validator.operatorAddress,amount:{denom:eb,amount:e}}),{signAndBroadcastMessages:n,analyzeTxResponse:o}=await Promise.all([i.e(331),i.e(905),i.e(486),i.e(116),i.e(589)]).then(i.bind(i,65589)),d=await n([a]),c=o(d,"Unstake");"broadcastSuccess"===c.result?(l.X.getState().initStore(),r.T.getState().initStore(),K.current.show({severity:"success",summary:"Unstaking successful",detail:"Your tokens will be unbonded after the 21-day unbonding period",life:5e3})):K.current.show({severity:"error",summary:"Unstaking failed",detail:"string"==typeof d?d:"Transaction failed. Please try again.",life:5e3})}catch(e){console.error("Error while unstaking:",e),K.current.show({severity:"error",summary:"Error",detail:"An unexpected error occurred while unstaking",life:5e3})}finally{H(!1),$(!1),el(0)}},eV=async()=>{if(!ea||!O||!er||!eb){K.current.show({severity:"error",summary:"Error",detail:"Missing required information to switch validator",life:3e3});return}try{H(!0);let e=(0,D.toMicroAmount)(ea.toString()),t=(await Promise.all([i.e(331),i.e(905),i.e(486),i.e(585),i.e(859),i.e(116),i.e(241)]).then(i.t.bind(i,47241,23))).cosmos,{beginRedelegate:s}=t.staking.v1beta1.MessageComposer.withTypeUrl,a=s({delegatorAddress:l.X.getState().getCanonicalAddress(),validatorSrcAddress:O.validator.operatorAddress,validatorDstAddress:er.operatorAddress,amount:{denom:eb,amount:e}}),{signAndBroadcastMessages:n,analyzeTxResponse:o}=await Promise.all([i.e(331),i.e(905),i.e(486),i.e(116),i.e(589)]).then(i.bind(i,65589)),d=await n([a]),c=o(d,"Switch validator");"broadcastSuccess"===c.result?(l.X.getState().initStore(),r.T.getState().initStore(),K.current.show({severity:"success",summary:"Validator switch successful",detail:"Your tokens have been switched to the new validator successfully",life:5e3})):K.current.show({severity:"error",summary:"Validator switch failed",detail:"string"==typeof d?d:"Transaction failed. Please try again.",life:5e3})}catch(e){console.error("Error while switching validator:",e),K.current.show({severity:"error",summary:"Error",detail:"An unexpected error occurred while switching validator",life:5e3})}finally{H(!1),et(!1),el(0),en(null)}},eD=async()=>{try{Y(!0);let e=(await Promise.all([i.e(331),i.e(905),i.e(486),i.e(585),i.e(859),i.e(116),i.e(241)]).then(i.t.bind(i,47241,23))).cosmos,{withdrawDelegatorReward:t}=e.distribution.v1beta1.MessageComposer.withTypeUrl,s=[],a=l.X.getState().delegations;if(a&&a.length>0&&a.forEach(e=>{let i=t({delegatorAddress:l.X.getState().getCanonicalAddress(),validatorAddress:e.delegation.validatorAddress});s.push(i)}),0===s.length){K.current.show({severity:"info",summary:"No rewards",detail:"You do not have any rewards to claim",life:3e3}),Y(!1);return}let{signAndBroadcastMessages:n,analyzeTxResponse:o}=await Promise.all([i.e(331),i.e(905),i.e(486),i.e(116),i.e(589)]).then(i.bind(i,65589)),d=await n(s),c=o(d,"Claim");"broadcastSuccess"===c.result?(l.X.getState().initStore(),r.T.getState().initStore(),K.current.show({severity:"success",summary:"Claim successful",detail:"Your rewards have been claimed successfully",life:5e3})):K.current.show({severity:"error",summary:"Claim failed",detail:"string"==typeof d?d:"Transaction failed. Please try again.",life:5e3})}catch(e){console.error("Error during claim:",e),K.current.show({severity:"error",summary:"Error",detail:"An unexpected error occurred during claim",life:5e3})}finally{Y(!1)}},eU=_.filter(e=>e.validator.operatorAddress!==(null==O?void 0:O.validator.operatorAddress)).map(e=>({label:T(e.validator),value:e.validator})),eF=(0,s.jsxs)("div",{className:"flex justify-content-between align-items-center",children:[(0,s.jsx)("h2",{className:"mt-0",children:"Validators"}),(0,s.jsxs)("div",{className:"flex align-items-center gap-3",children:[(0,s.jsxs)("span",{className:"p-input-icon-left",children:[(0,s.jsx)("i",{className:"pi pi-search"}),(0,s.jsx)(u.o,{value:F,onChange:e=>I(e.target.value),placeholder:"Search validator..."})]}),(0,s.jsxs)("div",{className:"flex align-items-center",children:[(0,s.jsx)("label",{htmlFor:"myValidatorsToggle",className:"mr-2",children:"My validators only"}),(0,s.jsx)(g.Q,{id:"myValidatorsToggle",checked:X,onChange:e=>q(e.value||!1)})]})]})]});return eb?(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsx)(j.F,{ref:K}),(0,s.jsx)("div",{className:"col-12",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid",style:{alignItems:"stretch"},children:[(0,s.jsx)("div",{className:"col-12 md:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",style:{height:"100%"},children:(0,s.jsxs)("div",{className:"flex flex-column justify-content-between h-full",children:[(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Available Balance"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-900 font-medium text-xl",children:ef?em(eb):"-"}),ef&&eN&&ey()&&(0,s.jsx)("div",{className:"text-500 text-sm",children:ew(em(eb))})]})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-wallet text-blue-500 text-xl"})})]}),(0,s.jsx)("div",{})]})})}),(0,s.jsx)("div",{className:"col-12 md:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",style:{height:"100%"},children:(0,s.jsxs)("div",{className:"flex flex-column justify-content-between h-full",children:[(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Total Staked"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-900 font-medium text-xl",children:ef?eh():"-"}),ef&&eN&&ey()&&(0,s.jsx)("div",{className:"text-500 text-sm",children:ew(eh())})]})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-check-circle text-green-500 text-xl"})})]}),(0,s.jsx)("div",{})]})})}),(0,s.jsx)("div",{className:"col-12 md:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",style:{height:"100%"},children:(0,s.jsxs)("div",{className:"flex flex-column justify-content-between h-full",children:[(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Unbonding"}),(0,s.jsxs)("div",{className:"flex flex-column",children:[(0,s.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,s.jsx)("span",{className:"text-900 font-medium text-xl",children:ef?ep():"-"}),ef&&ev.length>0&&(0,s.jsx)(d.z,{label:"View Details",className:"p-button-sm",onClick:()=>{es(!0)}})]}),ef&&eN&&ey()&&(0,s.jsx)("div",{className:"text-500 text-sm",children:ew(ep())})]})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-yellow-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-clock text-yellow-500 text-xl"})})]}),(0,s.jsx)("div",{})]})})}),(0,s.jsx)("div",{className:"col-12 md:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",style:{height:"100%"},children:(0,s.jsxs)("div",{className:"flex flex-column justify-content-between h-full",children:[(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Rewards"}),(0,s.jsxs)("div",{className:"flex flex-column",children:[(0,s.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,s.jsx)("span",{className:"text-900 font-medium text-xl",children:ef?ex():"-"}),ef&&(0,s.jsx)(d.z,{label:"Claim",className:"p-button-sm",icon:J?"pi pi-spin pi-spinner":"pi pi-check",onClick:eD,disabled:J})]}),ef&&eN&&ey()&&(0,s.jsx)("div",{className:"text-500 text-sm",children:ew(ex())})]})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-gift text-purple-500 text-xl"})})]}),(0,s.jsx)("div",{})]})})})]}),(0,s.jsx)("div",{className:"card mt-5",children:(0,s.jsxs)(c.w,{value:B,header:eF,paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},emptyMessage:L?"Loading validators...":"No validators found.",loading:L,loadingIcon:"pi pi-spin pi-spinner",children:[(0,s.jsx)(m.s,{field:"validator",header:"Validator",body:e=>{var t;let i=T(e.validator),a=(null===(t=e.validator.description)||void 0===t?void 0:t.identity)||"";return(0,s.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,s.jsx)(h.q,{image:w(a),shape:"circle",className:"mr-2",size:"normal"}),(0,s.jsx)("div",{children:C(i)})]})},sortable:!0,sortField:"validator.description.moniker"}),(0,s.jsx)(m.s,{field:"votingPower",header:"Voting Power",sortable:!0}),(0,s.jsx)(m.s,{field:"commission",header:"Commission",sortable:!0,sortField:"validator.commission.commissionRates.rate"}),(0,s.jsx)(m.s,{field:"status",header:"Status",body:e=>(0,s.jsx)(x.V,{value:e.status,severity:S(e.status)}),sortable:!0}),(0,s.jsx)(m.s,{field:"myStake",header:"My Stake",sortable:!0}),(0,s.jsx)(m.s,{body:e=>{let t=eu(e.validator.operatorAddress),i=t&&Number(t.balance.amount)>0;return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.z,{icon:"pi pi-plus",outlined:!0,rounded:!0,size:"small",tooltip:"Stake",onClick:()=>eS(e),disabled:!ef}),(0,s.jsx)(d.z,{icon:"pi pi-minus",outlined:!0,rounded:!0,size:"small",tooltip:"Unstake",onClick:()=>eA(e),disabled:!ef||!i}),(0,s.jsx)(d.z,{icon:"pi pi-arrow-right-arrow-left",outlined:!0,rounded:!0,size:"small",tooltip:"Switch Validator",onClick:()=>eT(e),disabled:!ef||!i})]})},headerStyle:{width:"10rem"}})]})}),(0,s.jsx)(p.V,{header:"Stake Tokens",visible:Q,onHide:()=>{W(!1),el(0)},style:{width:"30rem"},footer:(0,s.jsxs)("div",{children:[(0,s.jsx)(d.z,{label:"Cancel",icon:"pi pi-times",onClick:()=>{W(!1),el(0)},className:"p-button-text"}),(0,s.jsx)(d.z,{label:"Stake",icon:G?"pi pi-spin pi-spinner":"pi pi-check",onClick:eC,autoFocus:!0,disabled:!ea||G,loading:G})]}),children:O&&(0,s.jsxs)("div",{className:"p-fluid",children:[(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"validator",children:"Validator"}),(0,s.jsxs)("div",{className:"p-inputtext p-component p-filled flex align-items-center gap-2",children:[(0,s.jsx)(h.q,{image:w((null===(e=O.validator.description)||void 0===e?void 0:e.identity)||""),shape:"circle",className:"mr-2"}),(0,s.jsx)("span",{children:T(O.validator)})]})]}),(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"balance",children:"Available Balance"}),(0,s.jsx)("div",{className:"p-inputtext p-component p-filled",children:em(eb)})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{htmlFor:"amount",children:"Amount to Stake"}),(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)(v.R,{id:"amount",value:ea,onChange:e=>el(null!==(y=e.value)&&void 0!==y?y:null),maxFractionDigits:6,min:0,max:Math.floor((parseFloat(em(eb))-.01)*100)/100}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,b.getTokenFromDenom)(eb)})]})]})]})}),(0,s.jsx)(p.V,{header:"Unstake Tokens",visible:Z,onHide:()=>{$(!1),el(0)},style:{width:"30rem"},footer:(0,s.jsxs)("div",{children:[(0,s.jsx)(d.z,{label:"Cancel",icon:"pi pi-times",onClick:()=>{$(!1),el(0)},className:"p-button-text"}),(0,s.jsx)(d.z,{label:"Unstake",icon:G?"pi pi-spin pi-spinner":"pi pi-check",onClick:eE,autoFocus:!0,disabled:!ea||G,loading:G})]}),children:O&&(0,s.jsxs)("div",{className:"p-fluid",children:[(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"validator",children:"Validator"}),(0,s.jsxs)("div",{className:"p-inputtext p-component p-filled flex align-items-center gap-2",children:[(0,s.jsx)(h.q,{image:w((null===(t=O.validator.description)||void 0===t?void 0:t.identity)||""),shape:"circle",className:"mr-2"}),(0,s.jsx)("span",{children:T(O.validator)})]})]}),(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"stakedAmount",children:"Currently Staked"}),(0,s.jsx)("div",{className:"p-inputtext p-component p-filled",children:O.myStake})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{htmlFor:"amount",children:"Amount to Unstake"}),(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)(v.R,{id:"amount",value:ea,onChange:e=>el(null!==(E=e.value)&&void 0!==E?E:null),maxFractionDigits:6,min:0,max:parseFloat(O.myStake)}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,b.getTokenFromDenom)(eb)})]})]}),(0,s.jsx)("small",{className:"p-error block mt-2",children:"Note: Unstaked tokens will be locked for 21 days before becoming available."})]})}),(0,s.jsx)(p.V,{header:"Switch Validator",visible:ee,onHide:()=>{et(!1),el(0),en(null)},style:{width:"30rem"},footer:(0,s.jsxs)("div",{children:[(0,s.jsx)(d.z,{label:"Cancel",icon:"pi pi-times",onClick:()=>{et(!1),el(0),en(null)},className:"p-button-text"}),(0,s.jsx)(d.z,{label:"Switch Validator",icon:G?"pi pi-spin pi-spinner":"pi pi-check",onClick:eV,autoFocus:!0,disabled:!ea||!er||G,loading:G})]}),children:O&&(0,s.jsxs)("div",{className:"p-fluid",children:[(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"fromValidator",children:"From Validator"}),(0,s.jsxs)("div",{className:"p-inputtext p-component p-filled flex align-items-center gap-2",children:[(0,s.jsx)(h.q,{image:w((null===(N=O.validator.description)||void 0===N?void 0:N.identity)||""),shape:"circle",className:"mr-2"}),(0,s.jsx)("span",{children:T(O.validator)})]})]}),(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"toValidator",children:"To Validator"}),(0,s.jsx)(f.L,{id:"toValidator",value:er,onChange:e=>en(e.value),options:eU,optionLabel:"label",placeholder:"Select a validator",className:"w-full"})]}),(0,s.jsxs)("div",{className:"field mb-4",children:[(0,s.jsx)("label",{htmlFor:"stakedAmount",children:"Currently Staked"}),(0,s.jsx)("div",{className:"p-inputtext p-component p-filled",children:O.myStake})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{htmlFor:"amount",children:"Amount to transfer to the new validator"}),(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)(v.R,{id:"amount",value:ea,onChange:e=>el(null!==(U=e.value)&&void 0!==U?U:null),maxFractionDigits:6,min:0,max:parseFloat(O.myStake)}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,b.getTokenFromDenom)(eb)})]})]})]})}),(0,s.jsx)(p.V,{header:"Unbonding Delegations",visible:ei,onHide:()=>es(!1),style:{width:"40rem"},footer:(0,s.jsx)("div",{children:(0,s.jsx)(d.z,{label:"Close",icon:"pi pi-times",onClick:()=>es(!1)})}),children:(0,s.jsx)("div",{className:"p-fluid",children:ev.length>0?(0,s.jsx)("div",{children:V(ev,eb).map((e,t)=>{var i;let a=ec(e.validatorAddress),l=a?T(a):"Unknown Validator",r=(null==a?void 0:null===(i=a.description)||void 0===i?void 0:i.identity)||"";return(0,s.jsxs)("div",{className:"mb-4 pb-3 border-bottom-1 border-300",children:[(0,s.jsxs)("div",{className:"flex align-items-center mb-3",children:[(0,s.jsx)(h.q,{image:w(r),shape:"circle",className:"mr-2"}),(0,s.jsx)("span",{className:"font-medium",children:l})]}),e.entries.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-content-between p-2 mb-2 surface-100 border-round",children:[(0,s.jsx)("div",{children:e.amount}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.V,{value:e.displayTime,severity:"Completed"===e.displayTime?"success":"warning"}),"Completed"!==e.displayTime&&(0,s.jsx)("div",{className:"text-xs text-500 mt-1",children:e.completionTime.toLocaleDateString()})]})]},t))]},t)})}):(0,s.jsxs)("div",{className:"p-4 text-center",children:[(0,s.jsx)("i",{className:"pi pi-info-circle text-xl mb-3 text-primary"}),(0,s.jsx)("p",{children:"No unbonding delegations found."})]})})})]})})]}):(0,s.jsx)("div",{className:"grid",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"flex justify-content-center align-items-center",style:{minHeight:"70vh"},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("i",{className:"pi pi-spin pi-spinner text-primary",style:{fontSize:"2rem"}}),(0,s.jsx)("div",{className:"mt-3",children:"Loading chain information..."})]})})})})})}},91879:function(e,t,i){"use strict";i.d(t,{T:function(){return c}});var s=i(81959),a=i(44555),l=i(41243),r=i(50447);let n={isInitialized:!1,totalStaked:{total:0,native:0},validators:[]},o=async()=>{let e=a._.getState().getCanonicalRpcClient();if(console.log("canonical rpc client",e),!e)return[];let t=await (0,l.hJ)(e.cosmos.staking.v1beta1.validators,"validators");try{let e=await Promise.all([{status:"BOND_STATUS_BONDED"},{status:"BOND_STATUS_UNBONDED"},{status:"BOND_STATUS_UNBONDING"}].map(e=>t(e,500)));return e.flat()}catch(e){return console.error("Error fetching validators:",e),[]}},d=async()=>{let e=a._.getState().getCanonicalRpcClient();if(!e)return{total:0,native:0};try{let{pool:t}=await e.cosmos.staking.v1beta1.pool();return{total:Number(t.bondedTokens),native:Number(t.bondedTokens)}}catch(e){return console.error("Error fetching total staked:",e),{total:0,native:0}}},c=(0,s.U)((e,t)=>({...n,getAllValidators:()=>t().validators,findByValoper:e=>t().validators.find(t=>t.operatorAddress===e),getTotalStaked:()=>t().totalStaked,initStore:async()=>{try{console.log("Fetching validator data from the network...");let t=await o(),i=await d();e({validators:t,totalStaked:i,isInitialized:!0}),console.log("Loaded ".concat(t.length," validators"))}catch(e){console.error("Error initializing validator store:",e)}},keybase:async e=>{try{let t=await r.Z.get("https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=".concat(e,"&fields=pictures"));return t.data}catch(e){return console.error("Error fetching Keybase identity:",e),null}}}))}},function(e){e.O(0,[765,44,262,123,722,383,434,366,886,676,447,192,441,253,769,744],function(){return e(e.s=71118)}),_N_E=e.O()}]);